# 作業系統 hw1

## 資工三 111590012 林品緯

### 1.14

- 中斷（Interrupts） 是硬體與作業系統互動的關鍵方式。當硬體裝置觸發中斷時，會向 CPU 發送訊號，以提醒 CPU 有事件需要處理。
- Interrupt 是由硬體觸發，Trap 是由軟體觸發。
- 可以，Trap 可以使用由程式故意產生。
- system call 切換到 kernel mode 、 debug 等

### 2.15

有 Shared Memory 和 Message Passing

|      | Shared Memory                        | Message Passing                    |
| ---- | ------------------------------------ | ---------------------------------- |
| 優點 | 速度快，因為是直接訪問記憶體         | 不用處理同步問題<br>可以在不同電腦 |
| 缺點 | 需要處理同步問題<br>需要在同一台電腦 | 速度慢，因為是調用 system call     |

### 2.19

- 優點
  - 擴展性佳(Extensibility)，新的服務可直接添加到使用者空間，無需修改核心。
  - 可移植性強（Portability）：由於核心較小，移植作業系統至不同硬體架構時較為容易。
  - 安全性與可靠性提升（Security & Reliability）：大部分服務運行在使用者模式（user mode），而非核心模式（kernel mode），因此即使某個服務崩潰，作業系統的其他部分仍能正常運作。
- 互動方式
  - Message Passing
- 缺點-效能較差
  - 系統函式（system function）的額外負擔（overhead）增加：當兩個使用者層級的服務需要互相通訊時，訊息必須在它們的獨立地址空間之間進行複製。
  - 程序切換（process switching）成本高：作業系統可能需要在不同程序間切換，以交換訊息，這會增加額外的處理開銷。

### 3.14

- Ordinary pipes

  - 適用於父進程與子進程之間的通訊
  - 一個程式需要將資料從父進程傳遞給子進程。

- Named pipes
  - 適用於不同進程之間的通訊
  - 兩個不相關的進程（如兩個不同的終端應用）需要交換訊息。

### 3.17

#### (a)

系統層面

- Synchronous
  - 優點：實現簡單，易於同步管理，確保消息順序。
  - 缺點：發送方可能會因等待接收方回應而阻塞，降低系統並行度。
- Asynchronous
  - 優點：發送方不需要等待接收方，提高並行性與效率。
  - 缺點：需要額外的機制來處理未處理的消息，如緩衝區或隊列，增加系統複雜度。

程式設計層面

- Synchronous
  - 優點：較容易理解與除錯，確保數據一致性。
  - 缺點：可能會造成程式執行等待，降低效能。
- Asynchronous
  - 優點：允許程式執行其他任務，提高效能。
  - 缺點：增加程式設計難度，需要處理回調、未決請求等問題。

#### (b)

系統層面

- Automatic
  - 優點：系統會自動管理緩衝區，降低程式設計負擔。
  - 缺點：可能會因不必要的緩衝機制佔用額外的記憶體，降低效率。
- Explicit buffering
  - 優點：程式員可以根據需求自訂緩衝機制，提高記憶體使用效率。
  - 缺點：增加程式設計的負擔，需要手動管理緩衝區。

程式設計層面

- Automatic
  - 優點：降低開發難度，不需關心緩衝管理。
  - 缺點：可能導致不可預測的行為，如緩衝溢出或未即時刷新。
- Explicit buffering
  - 優點：程式員可以更精細地控制資料流，提高性能。
  - 缺點：需要手動管理緩衝，容易產生錯誤，如記憶體洩漏或溢出。

#### \(c\)

系統層面

- Send by copy
  - 優點：接收方獲得數據的副本，避免原始數據被意外修改。
  - 缺點：需要額外的記憶體來存儲副本，對於大數據量可能會降低效率。
- Send by reference
  - 優點：不需要額外的記憶體複製，傳輸大數據時效率較高。
  - 缺點：可能會因共享數據而導致同步問題，增加系統管理複雜度。

程式設計層面

- Send by copy
  - 優點：變數安全，不會影響原始資料。
  - 缺點：影響效能，尤其是處理大型數據時。
- Send by reference
  - 優點：可以直接操作原始資料，提高效能。
  - 缺點：容易造成資料競爭或未預期的修改，可能需要額外的同步機制。

#### (d)

系統層面

- Fixed-sized messages
  - 優點：易於管理與實現，記憶體分配簡單。
  - 缺點：可能導致記憶體浪費，無法靈活適應不同數據量的需求。
- Variable-sized messages
  - 優點：能夠適應不同大小的數據，提高記憶體使用效率。
  - 缺點：需要額外的機制來管理內存分配與回收，增加系統複雜度。

程式設計層面

- Fixed-sized messages
  - 優點：程式較易設計，不需考慮動態調整緩衝區。
  - 缺點：無法傳輸大於固定大小的數據，靈活性較差。
- Variable-sized messages
  - 優點：靈活性高，可適應不同長度的消息。
  - 缺點：需要考慮內存管理問題，容易導致碎片化或溢出問題。
